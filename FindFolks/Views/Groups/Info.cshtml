@model FindFolks.Models.GroupInfoModel
@{
    ViewBag.Title = Model.Group.GroupName;
}
<div class="row">
    <div class="col-md-12">
        @if (User.Identity.IsAuthenticated)
        {
            if (!Model.IsInGroup)
            {
                <div class="pull-right">
                    @using (Html.BeginForm("JoinGroup", "Groups", FormMethod.Post, new { role = "form" }))
                    {
                        @Html.AntiForgeryToken()
                        @Html.Hidden("GroupId", Model.Group.GroupId)
                        @Html.Hidden("UserId", Model.JoinGroup.UserId)
                        <button type="submit" class="btn btn-default">Join Group</button>
                    }
                </div>
            }
            else
            {
                <div class="pull-right">
                    @using (Html.BeginForm("LeaveGroup", "Groups", FormMethod.Post, new { role = "form" }))
                    {
                        @Html.AntiForgeryToken()
                        @Html.Hidden("GroupId", Model.Group.GroupId)
                        @Html.Hidden("UserId", Model.JoinGroup.UserId)
                        <button type="submit" class="btn btn-default">Leave Group</button>
                    }
                </div>
            }
        }
        <h2>@Model.Group.GroupName</h2>
        <h4>@Model.Group.GroupDescription</h4>
        <h4>Created by @Model.GroupCreator</h4>
    </div>
</div>

<hr />

<div class="row">
    <div class="col-md-3">
        <h3>Members:</h3>
        <div class="list-group">
            @foreach (var u in Model.Members)
            {
                <a href="#" class="list-group-item">
                    <h4 class="list-group-item-heading">@u.LastName, @u.FirstName</h4>
                    <p class="list-group-item-text">@u.UserName</p>
                </a>
            }
        </div>
    </div>
</div>
