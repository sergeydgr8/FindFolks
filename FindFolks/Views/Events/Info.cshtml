@model FindFolks.Models.EventInfoModel
@{
    ViewBag.Title = @Model.Title;
}

<h2>@Model.Title</h2>
<hr />
<div class="row">
    <div class="col-md-4">
        <h4><i class="fa fa-calendar fa-fw"></i> @Model.Start.ToString()</h4>
        <h4><i class="fa fa-info-circle fa-fw"></i> @Model.Description</h4>
        <h4><i class="fa fa-map-pin fa-fw"></i> @Model.Location in @Model.ZipCode</h4>
        <h4><a href="@Url.Action("Info", "Groups", new { Id = Model.GroupId })"><i class="fa fa-group fa-fw"></i> @Model.GroupName</a></h4>
        @if (User.Identity.IsAuthenticated && !Model.Attending)
        {
            using (Html.BeginForm("SignUp", "Events", FormMethod.Post, new { role = "form" }))
            {
                @Html.AntiForgeryToken()
                @Html.Hidden("EventId", Model.Id)
                @Html.Hidden("UserId", Model.UserId)
                <button class="btn btn-info" type="submit">Sign up!</button>
            }
        }

    </div>
    <div class="col-md-8">
        <div class="panel panel-info">
            <div class="panel-heading">
                <h3 class="panel-title">Attendees</h3>
            </div>
            <div class="list-group">
                @foreach (var m in Model.Attendees)
                {
                    <a class="list-group-item" href="@Url.Action("Index", "User", new { Id = m.UserName })">
                        <h4>@m.FirstName @m.LastName</h4>
                        <p>@m.UserName</p>
                    </a>
                }
            </div>
        </div>
    </div>
</div>
